# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è —Ñ—É—Ç–±–æ–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã training_dataset
**–§–∞–π–ª:** `/data/ml/sql/create_training_dataset.sql`

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã —Å:
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ (match_id, match_date, home_team_id, away_team_id)
- 28 —Ç–∞—Ä–≥–µ—Ç–∞–º–∏ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–æ—Ç–∞–ª—ã –≥–æ–ª–æ–≤, —É–≥–ª–æ–≤—ã–µ, –∫–∞—Ä—Ç–æ—á–∫–∏, —Ñ–æ–ª—ã)
- –ü—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π –∏ –≥–æ—Å—Ç–µ–≤–æ–π –∫–æ–º–∞–Ω–¥ –ø–æ 3 –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫–Ω–∞–º (3, 7, 11 –º–∞—Ç—á–µ–π)
- –ü—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–∞–Ω–¥ (—Ä–∞–∑–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è)
- –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)

### 2. ‚úÖ SQL-—Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∫–æ–º–∞–Ω–¥  
**–§–∞–π–ª:** `/data/ml/sql/generate_team_features.sql`

–°–æ–∑–¥–∞–Ω —Å–ª–æ–∂–Ω—ã–π SQL-—Å–∫—Ä–∏–ø—Ç —Å –æ–∫–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è:
- –†–∞—Å—á–µ—Ç–∞ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –∑–∞ –æ–∫–Ω–∞ 3, 7, 11 –º–∞—Ç—á–µ–π
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞ –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- –†–∞—Å—á–µ—Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### 3. ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–∞—Ä–≥–µ—Ç–æ–≤
**–§–∞–π–ª:** `/data/ml/sql/generate_targets.sql`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ —Ç–∞—Ä–≥–µ—Ç—ã:
- –†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç—á–∞ (0-–ø–æ—Ä–∞–∂–µ–Ω–∏–µ, 1-–Ω–∏—á—å—è, 2-–ø–æ–±–µ–¥–∞ –¥–æ–º–∞—à–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã)
- –¢–æ—Ç–∞–ª—ã –≥–æ–ª–æ–≤ (over/under 0.5-5.5)
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç–æ—Ç–∞–ª—ã (–¥–æ–º–∞—à–Ω—è—è/–≥–æ—Å—Ç–µ–≤–∞—è –∫–æ–º–∞–Ω–¥—ã 0.5-3.5)  
- –£–≥–ª–æ–≤—ã–µ (over/under 8.5-12.5)
- –ö–∞—Ä—Ç–æ—á–∫–∏ (over/under 2.5-5.5)
- –§–æ–ª—ã (over/under 18.5-24.5)

### 4. ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π ETL-—Å–∫—Ä–∏–ø—Ç
**–§–∞–π–ª:** `/data/ml/sql/build_training_dataset.sql`

–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è:
- –°–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º—ã ml –∏ —Ç–∞–±–ª–∏—Ü—ã training_dataset
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –†–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–∞–Ω–¥
- –í—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏/–∑–∞—â–∏—Ç—ã)
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### 5. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ —Ç–∞—Ä–≥–µ—Ç–æ–≤
**–§–∞–π–ª:** `/data/ml/docs/training_dataset_description.md`

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö 28 —Ç–∞—Ä–≥–µ—Ç–æ–≤ —Å –ø–æ—Ä–æ–≥–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫–Ω–∞–º
- –ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```
/.github/workflows/
‚îî‚îÄ‚îÄ ml-training-dataset.yml            # GitHub Action workflow

/data/ml/
‚îú‚îÄ‚îÄ sql/
‚îÇ   ‚îú‚îÄ‚îÄ create_database.sql            # –°–æ–∑–¥–∞–Ω–∏–µ ML –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ create_training_dataset.sql    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ generate_team_features.sql     # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ generate_targets.sql           # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ build_training_dataset.sql     # –û—Å–Ω–æ–≤–Ω–æ–π ETL-—Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îî‚îÄ‚îÄ validate_training_dataset.sql  # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ training_dataset_description.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îî‚îÄ‚îÄ README.md                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GitHub Action
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
- –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —Ñ—É—Ç–±–æ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–æ–≤ (target_*) –∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (home_team_*, away_team_*, diff_*)

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞
- 3 –º–∞—Ç—á–∞ (–∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è —Ñ–æ—Ä–º–∞)
- 7 –º–∞—Ç—á–µ–π (—Å—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–∞—è —Ñ–æ—Ä–º–∞) 
- 11 –º–∞—Ç—á–µ–π (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ñ–æ—Ä–º–∞)

### –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –†–∞–∑–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥ (diff_*) –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–∞
- –û—Ç–Ω–æ—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ (ratio_*) –¥–ª—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏ (–≥–æ–ª—ã/—É–¥–∞—Ä—ã)
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç—ã (–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –≥–æ–ª—ã/—É–¥–∞—Ä—ã –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞)
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è)

### 6. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ GitHub Action –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `/.github/workflows/ml-training-dataset.yml`

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π GitHub Action workflow —Å:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø—É—Å–∫–æ–º –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ raw –¥–∞–Ω–Ω—ã—Ö (3:00 UTC)
- –†—É—á–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º —Å –≤—ã–±–æ—Ä–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π (build_dataset, create_ml_tables, verify_dataset, get_stats, cleanup)
- –ü–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞
- –î–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- –û–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ cleanup –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `/data/ml/sql/create_database.sql` - —Å–æ–∑–¥–∞–Ω–∏–µ ML –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `/data/ml/sql/validate_training_dataset.sql` - —Å–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- `/data/ml/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é workflow

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ workflow**: –ó–∞–ø—É—Å—Ç–∏—Ç—å GitHub Action –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã workflow –≤ GitHub Actions
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ML

## üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQL –∞–≥—Ä–µ–≥–∞—Ü–∏–π
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –º–µ—Å—è—Ü–∞–º
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò–Ω–¥–µ–∫—Å—ã –ø–æ –¥–∞—Ç–µ –∏ ID –º–∞—Ç—á–∞
- **–ì–∏–±–∫–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏ —Ç–∞—Ä–≥–µ—Ç—ã